SQL在数据分析工作中的使用场景

![image-20210921122215506](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921122215506.png)

数据库的基本结构

![image-20210921122428968](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921122428968.png)

# 一、导论

## 1、什么是数据？数据能做什么？

**什么是数据**

数据是科学实验、检验、统计、观测等所获得的和用于科学研究、技术设计、查证、决策等的数值

![image-20210921134338215](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921134338215.png)

**数据可以做什么**

一个最简单的例子---天气预报：利用物理数据对未来天气进行预测

商业应用：把数据转换成帮助企业发展的生产力

![image-20210921134605295](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921134605295.png)

**数据分析在不同行业可以做什么**

**电商类**

电商网站会采集大量的用户行为数据，如浏览、购买等，通过这些数据，数据分析师了解不同用户的喜好、行为方式从而帮助增加产品销量

**社交类**

利用社交网络数据，可以更好的进行精准营销，通过对帖子、推文、博客和其它社交数据进行分析，可以有效改善用户服务和体验

**医疗类**

卫生保健机构可以针对电子医疗数据进行记录，数据分析师可以基于这些数据，帮助医疗机构改善卫生服务，并发现潜在隐患

**金融类**

在金融行业，通过对用户的日常交易数据进行分析，可以帮助信贷机构评判用户的信用等级，确定信贷额度

## 2、优秀的数据分析师的三个特点

**业务理解**

能跑数，不叫数据分析，和业务结合并产生价值才是数据分析

对业务的洞察力决定了一个数据分析师职业的上限

1）对行业和产品有热情、热爱学习

从事数据分析工作，首先必须要对进入的行业和产品感兴趣，有好奇心，愿意学习一切未知的知识

2）关注数据分析对业务产生的价值

能够把业务和数据结合起来，尝试用数据量化业务状态和结果，能够用数据解释潜藏的未被发现的业务逻辑

3）多问，多思考

当分析需求来的时候，要问下为什么要做这个分析，想解决什么问题

**工具使用**

掌握并熟练应用基本的数据分析工具，分析模型和分析方法

技术水平决定了数据分析师的下限

1）熟练使用各类分析模型和分析方法

对使用的模型能清楚其优劣势；对没用过的方法能有所了解，在遇到已有方法解决不了的问题时能够联想到尝试其它方法是否可以解决

2）一定的编程语言技能

SQL/Python/R;SQL是基础，Python/R可以提升长期工作效率

3）对数据有很高的敏感度，最好有一定的统计学基础

能够及时发现数据展现的问题，指出深挖的方向；对数据的理解有很强的逻辑性和科学性

**沟通表达**

具备高效听说写的能力和用数据讲故事的能力

数据分析师总是需要通过说服产品和工程方面来改变产品，产生影响力

1）能够跨部门高效沟通

与需求方沟通可以快速了解业务价值，分析背景；与开发部门沟通可以了解业务实现、数据来源；推动数据分析落地业务方需要跨部门沟通

2）良好的数据可视化能力和撰写分析报告的能力

能够把分析结果变得直观、简单、易理解；分析报告全面、有逻辑、经得住推敲；分析结论可靠、可验证

## 3、数据分析工作的四大步骤

![image-20210921141105935](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921141105935.png)

**数据抓取**

数据抓取也被称为数据采集，是整个数据分析工作的起点。所采集和抓取的全不全、对不对，直接决定数据分析工作的质量，影响后续所有的环节

- 埋点 是针对特定用户行为或事件进行捕获、处理和发送的相关技术及其实施过程
- 爬虫 利用代码模拟人的行为去各个网站抓取数据
- 程序应用接口（API） 连接各种软件系统，为了能在各系统之间共享数据而开放的技术接口管道

**如何规划数据埋点**

**数据埋点**

- 业务需求拆解，转化为数据需求；
- 定义数据口径和指标统计方式
  - 各类事件的分类和聚合（事件类型，页面位置...）
  - 确定指标的数值类型、计数方式和记录规则
  - 4W1H (who what when where how)模型来选择数据

**数据埋点的分类**

- 点击事件（交互事件）
- 曝光事件
- 页面停留时间

**数据埋点--京东案例**

**业务拆解** 

- 促销活动 （用户转化）
  - 页面访问
  - 领卷
  - 查看商品
  - 购买商品
- 新人礼包（拉新、留存）

**埋点选择**

**Who:**
●  用户的唯一标识
●  登录用户、非登录用户
●  会员、非会员
●  活跃用户、非活跃用户
What:
●  三个优惠券的点击事件
●  三个优惠券成功领取
●  ....
When:
●  客户端时间
Where:
●  活动页面
How:
●  设备、网络、操作系统等

**数据清洗**

利用有关技术如数理统计、数据挖掘或预定义的清理规则将脏数据转化为满足数据质量要求的数据

**为什么要进行数据清洗**

保证数据的质量，就是保证数据分析的 质 量

高质量的数据应当符合以下标准：
●  完整性
●  唯一性
●  准确性
●  一致性
●  整 洁 有序的数据，可以提高数据分析的工作效率
例：
●  每个变量独占一列
●  每条数据独占一行

**数据清洗**

利用有关技术如数理统计、数据挖掘或预定义的清理规则将脏数据转化为满足数据质量要求的数据

**数据清洗的一般步骤**

1）缺失值处理
●  根据数据信息（前后数值、其他信息）补全
●  特殊值、平均值、统计学模型补全
●  删除缺失值数据

2）数据格式内容的一致性处理
●  时间、日期、字符、格式
●  数据错位

3）逻辑错误数据处理
●  去重
●  去除不合理值

**数据分析**

数据分析是指通过某种方法和技巧，对准备好的数据进行探索、分析，从中发现因果关系、内部联系和业务规律等分析结果，为特定的研究或商业目的提供参考

**描述性分析（ 发 生了什么？）**
描述某项事物的特性。需要准确、完善甚至是实时的数据。



**诊 断性分析（ 为 什么会 发 生？）**
在对描述性数据进行评估时，诊断分析工具将使分析师能够深入到细分的数据，从而隔离出问题的根本原因。



**预测性分析  （将会 发 生什么？）** 

对数据特征和变量的关系进行描述，基于过去的数据对未 来进行预测



**规范性分析  （需要做什么？）**
规范模型利用对发生的事情的理解，为什么发生了这种情况以及各种“可能发生的”分析，以帮助用户确定采取的最佳行动方案。



**描述性分析**

描述性分析是通过计算数据的集中性特征（平均值和中位数）和波动性特征(标准差值)以了解数据的基本情况。因此在研究中经常是首先进行描述性分析，再次基础之上再进行深入的分析。
描述性分析还可用于查看数据是否有异常情况（最小值或最大值查看），比如数据中出现-2，-3等异常情况。
描述性分析也可以通过峰度和偏度用于判断数据正态性情况



**诊断性分析**

诊断性分析是基于描述性分析之上的。 诊断分析的目标是了解事情
发生的原因。通过诊断分析，可以深入挖掘问题根源，识别依赖关系，找出影响因子。各种分析方法，可以知道 问题是怎么发生的，这个过程依赖于我们对业务的了解程度，另外也要多和 业务人员进行头脑风暴，只要是可能相关的，都 纳入考虑，也可以基于现有特征构造新特征，至于是否相关可在后面的分析中 进行验证。



**预测性分析**

相比较于描述性分析与诊断性分析的对于过去数据的分析，预测性
分析可以用来说明未来可能发生的事情。它使用描述性和 诊断性分
析的结果来检测趋势或者关联性，并预测未来动态。
尽管预测性分析可以为未来的趋势提供指导，但是预测也只是一种
估计，数据的质量和业务状态的稳定性决定着预测的准确性，所以这类分析往往需要持续不断的优化



**规范性分析**

规范性分析（指导性分析）的目标是告诉我们应该采取什么样的措施来获得最优的结果。它通过利用对已发生事件的理解和事件发生的原因，以及各种可能发生的情况分析来帮助确定可采取的最佳行 动方案。指导性分析通常是各类分析的组合。
比如采用数学模型确定最优的商品定价以实现利润最大化、应该怎
样实现网页的最优广告位布局等。



**预测性+规范性分析的简单案例**

某公司准备发行新产品，已经在某地进行了初步的市场调研，根据现有的价格和市场需求数量的数据，确定一个最 优的定价方案。

![image-20210921143013288](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143013288.png)

**预测性+规范性分析的简单案例**

使用已有的数据进行建模，使用简单线性回归找到价格和需求数量
的相关关系

![image-20210921143100797](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143100797.png)

**预测性+规范性分析的简单案例**

根据数学模型给出的价格与需求数量的相关关系， 计算出预测的销
售额。
最大化销售额的价格区间落在5.5和6 之间

![image-20210921143144490](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143144490.png)

**预测性+规范性分析的简单案例**

一般情况下，公司需要获得是利润而不仅仅是销售额， 所以我们必须考虑到生产这些物品的成本。

![image-20210921143221142](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143221142.png)

**预测性+规范性分析的简单案例**

最后得到最高利润的价格区间在6.5到7之间

![image-20210921143319413](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143319413.png)

**业务决策**

数据分析师总是需要通过说服产品和工程方面来改变产品，产生影响力

1）清晰的可视化和完整的分析报告

能够把分析结果变得直观、简单、易理解；分析报告全面、有逻辑、经得住推敲；分析结论可靠、可验证

2）推动产品按数据分析的结论进行修正、落地

数据分析师总是需要通过说服产品和工程方面来改变产品，产生影
响力。



**数据可视化的基本准则**

保证图表的可信性
图表能够高效传达信息
图表符合美学原则



**数据可视化：不准确的坐标轴**

![image-20210921143603037](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143603037.png)

- 折断的坐标轴低估了Jeremy Corbyn的点赞数量，还夸大了其他人的点赞数量
- 另一个奇怪的是颜色的选择。对于不太熟悉英国政治的人来说没有什么意义

**数据可视化：不准确的坐标轴**

![image-20210921143740198](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143740198.png)

- 在原始图表中，两个坐标轴的跨度均为三个单位（左边是21到18；右边是45到42）。按百分比计算，左边的比例下降了14％而右边则下降了7％。

**数据可视化：错误的图表类型**

![image-20210921143817686](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143817686.png)

- 数据以折线图绘制，似乎受访者对公投结果的看法相当不稳定，每周都会增加或减少几个百分点。
- 坐标轴不是从0开始的，应该在坐标轴最小值下方有所留白

**数据可视化：包含太多细节**

![image-20210921143901397](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143901397.png)

- 颜色太多，而且其中一些很难被区分。另外，因为对应的值太小了，压根没有办法得到任何图表信息。
- 这些细节并没有起到关键作用

**数据可视化：错误的颜色使用**

![image-20210921143945787](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143945787.png)

- 不同颜色通常意味着不同分类。第一张图里的不同的蓝色看起来是两种不同类型的国家。但其实他们的区别只是一个有打上国家标签，一个没有而已。

**撰写数据分析报告的一些基本要求**

分析报告一般可以分为 专题 分析 报 告、 综合分析报告和日常数据通报
分析报告的基本要求
● 介绍分析背景和分析目的
● 说明数据来源、数据的时间区间和统计口径，如日活
的定义
● 分析逻辑清晰，可采用金字塔结构、总分总结构等
● 既要给出结论，也要给出解决方案

**数据分析报告的一般框架**



- 分析背景：简述分析或者报告的背景，为什么做，目的是什么，明确分析报告要回答的问题
- 名词解释：关键性指标定义是什么，为什么这么定义
- 数据获取方法：数据获取的时间区间，怎么获取到的数据，会有哪些问题
- 数据概览：重要指标的趋势，变化情况 （数据通报）
- 数据分析：拆分问题，使用数据支撑结论
- 结论汇总：汇总之前数据分析的主要结论，作为概览
- 给出建议：根据数据分析的结论，给出改进建议



## 4、数据分析技能在互联网业务中的应用

![image-20210921143525828](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921143525828.png)



## 5、数据分析相关工具介绍

**数据抓取**

爬虫：Python;数据库：SQL

**数据清洗**

Excel;Python;R;SAS;SPSS;…..

**数据分析** 

Python;R;SAS;SPSS;...

**数据展示**

Excel, PPT,Tableu;Python,R, SAS;Echart, 谷歌套件,...

# 二、如何像数据分析师一样思考

**1、优秀数据分析师的三板斧**

![image-20210921151736684](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921151736684.png)

**找出问题：精确使用描述性统计**

精确使用描述性统计可以对样本的基本情况和特征进行说明

在日常业务中经常被使用的描述性统计量:
中位数：按照从大到小排列，处于中间位置的数字
平均数：算数平均数、几何平均数、加权平均数
分位数：按照从小到大排序、第x位置的数
方差/ 标 准差：描述数据离散程度
异常 值： ：Q1-1.5*IQR、Q3+1.5*IQR

![image-20210921151941143](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921151941143.png)

**找出问题：着眼于变化，寻找异常值**

日常工作中的流量数据、用户数据、转化数据、交易数据都有固定的波动周期，每个周期内的数据变化应该是趋于稳定的，如果某天的数据不在符合预期的范围内稳定变化就是数据异常。

对数据异常的敏感度主要有：数据波动是否为异常？异常的范围、波动的程度，是否需要深入分析。

评 估 变 化的方法
同比：对比同期变化 （和上周五比）
环 比：对比连续周期
增 长 率：可以有效评估累计型的指标

● 异常 值： 
	○ 三个超高UV 增长率的原因一是因为周末，UV本来就高；二是因为这三天我们有合作渠道的推广，造成UV暴增
● 变 化：
	○ 活动的峰值的增长率有向下的趋势

![image-20210921152122207](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921152122207.png)

**分析问题：细分指标，多维度分析**

通过多维度、拆分指标进行分析，来寻求指标变化可能的原因。

● 同一指 标 ，不同 维 度
● 拆解指 标 ，深挖数据



常用的指 标维 度：
用 户 指 标：地区、年龄、性别、学历、设备型号、操作系统
产 品指 标： 产品类型
运 营 指 标：活动类型
营销 指 标： 营销渠道、营销方式

![image-20210921152229806](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921152229806.png)

通过分析，我们发现海外地区的APP用户UV在逐渐下降

**分析问题：交叉分析**

![image-20210921152314583](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921152314583.png)

只关注单一维度和指标会造成我们主
观判断上的偏差：
● 幸存者偏差
● 维度偏差

引入CTR作为交叉分析的指标，从折线图来看，CTR和UV的关系并不大。

**分析问题：相关性分析，找出问题关键因素**

相关性分析对两个或多个具备相关性的变量元素进行分析，从而衡量两个变量因素相关的密切程度。

相关性分析在数学层面很难做到严谨性，但是在业务层面具有非常大的可解释性。

![image-20210921155112110](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155112110.png)

![image-20210921155132239](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155132239.png)

![image-20210921155142435](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155142435.png)

**分析问题：预测性分析**

在业务中，我们通常通过预测性分析来判断核心业务指标的发展趋势。

尽管预测性分析可以为未来的趋势提供指导，但是预测也只是一种估计，数据的质量和业务状态的稳定性决定着预测的准确性，所以这类分析往往需要持续不断的优化。

![image-20210921155248298](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155248298.png)

![image-20210921155308972](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155308972.png)

通过预测性分析我们发现在未来活动页的UV会逐渐降低，峰值会停留在20000左右。

**解决问题：促进业务落地**

我们基于数据，做出了上述分析。现在我们需要去把我们的结论和分析的逻辑去和业务方落实，确保我们的分析无误且结论能够被业务方所接受。

## 2、如何把业务问题转化为数据问题

指 标：确定业务问题的关键指标，并进行适度拆分

维 度：确定业务问题的维度，围绕维度构建问题

**漏斗模型**

漏斗模型是一套流程式数据分析模型，用来反映用 户 在流程里的关 键 行 为 以及从起点到 终 点各 阶 段 转化和流失情况。

![image-20210921155616426](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155616426.png)



## 3、漏斗模型：电商广告业务的数据化处理

![image-20210921155656357](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155656357.png)



**使用漏斗模型提升转化率**

![image-20210921155737316](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921155737316.png)

搜索列表
● 搜索点击率 （搜索结果首页点击率）
● 详情页转化率
● 搜索无结果次数
● 需要关注搜索的途径：搜索框搜索、语音搜索、推荐搜索

详 情 页
● 平均页面停留时间
● 加入购物车数目
● 需要关注详情页面的排版设计、评论、客服...

订单页 面和收 银 台 页 面
● 有效订单转化率
● UV成交转化率
● 平均UV价值
● 需要关注物流、退货、发票、运费、支付方式、支付异常（密码错误、冲动消费、技术问题...）

## 4、矩阵模型：产品定位问题的数据化处理

**波士顿矩阵模型：产品定位**

波士顿矩阵(BCG Matrix) 又称市场增长率—相对市场份额矩阵、波士顿咨询集团法、四象限分析法、产品系列结构管理法等。 波士顿矩阵是由美国大型商业咨询公司——波士顿咨询集团首创的一种规划企业产品组合的方法。

波士顿矩阵采用销售增长率和市场占有率两个指标来衡量产品。销
售增长率与市场占有率既相互影响，又互为条件。

通过以上两个因素相互作用，会出现四种不同性质的产品类型，形成不同的产品发展前景：
● 销售增长率和市场占有率“双高”的产品群（明星类产品）
● 销售增长率和市场占有率“双低”的产品群（瘦狗类产品）
● 销售增长率高、市场占有率低的产品群（问号类产品）
● 销售增长率低、市场占有率高的产品群（现金牛类产品）

![image-20210921160009445](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921160009445.png)



**波士顿矩阵模型的分析思路**

**明星产品**：
高增长且高市场占有率，发展前景好，竞争力强，需加大投资以支持其发展；

**现金牛产品**：
低增长但高市场占有率，成熟市场的领导者，应降低投资，维持市场占有率并延缓衰退。

**问题产品**：
高增长但低市场占有率，发展前景好但市场开拓不足，需谨慎投资；

**瘦狗类产品**：
低增长且低市场占有率，利润率低甚至亏损，应采取撤退战略。

![image-20210921160138132](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921160138132.png)

**波士顿矩阵模型分析的四个原则**

![image-20210921160343054](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921160343054.png)



## 5、逻辑回归模型：推荐算法业务的出数据化处理

**逻辑回归模型：个性化推荐系统**

个性化推荐系统是充分根据用户历史行为、地理位置、社交关系等推荐一些用户想要的个性化结果。推荐的核心问题是如何发现用户对潜在商品的偏好，在用户没有明确意图的情况下，帮助用户发现自己偏好的商品。

个性化推荐系统在互联网行业非常普遍：比如音乐推荐、电影推荐、个性化阅读推荐、社交网络好友推荐、朋友圈推荐以及基于位置的服 务推荐等。据统计，Netflix有60%多的电影因推荐而被观看，Google News因推荐提升40%的点击率，亚马逊因推荐被购买的销售占比高达38%。

![image-20210921160426396](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921160426396.png)

**常见的个性化推荐模型**

基于关 联规则 的推荐 （ （user-item） ）
基于关联规则的推荐的前提是用户已经购买了某个商品，然后根据用户已购买商品和其他商品之间的相关性做出推荐。关联规则的建立是采用概率统计的方式来判断某两种或者多种商品之间的相关性有多大。

**协 同 过滤 推荐**
协同过滤推荐是利用最近邻算法得到用户和用户，物品和物品的相似程度而产生推荐结果。
● 用 户 和用 户（ （user-user ）：只要找出相似用户喜欢的物品，并预测目标用户对对应物品的评分，就可以找到评分最高的若干个物品推荐给用户。
● 物品和物品（item-item ）：只要找到了目标用户对某些物品的评分，那么我们就可以对相似度高的类似物品进行预测，将评分最高的若干个相似物品推荐给用户。

**逻辑回归模型**

逻辑回归（Logistic Regression）是一种用于解决二分类（0 或1）问题的统计学模型，用于估计某种事物的可能性。比如某用户购买某商品的可能性，某病人患有某种疾病的可能性，以及某广告被用户点击的可能性等。

通过逻辑回归，可以得到某用户购买某品牌的可能性，最终按照这个可能性排序来取top-k进行推荐。

**逻辑回归模型的实现**

● 将用户年龄、性别、物品属性、物品描述、当前时间、当前地点等特征转换成数值型特征向量
● 确定逻辑回归模型的优化目标（以优化点击率为例），利用已有样本数据对逻辑回归模型进行训练，确定逻辑回归模型的内部参数
● 在模型服务阶段，将特征向量输入逻辑回归模型，经过逻辑回归模型的推断，得到用户“点击”物品的概率
● 利用“点击概率”对所有候选物品进行排序，得到推荐列表

# 三、搭建数据导向的业务工作流程

## 1、互联网产品的数据导向业务工作流

**数据分析是如何驱动互联网产品迭代的？**

![image-20210921161441462](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921161441462.png)

通过业务数据的反馈从而使公司的工作流程变成一个闭环，用户数据会成为运营团队想法策略的重要输入，工作目标和团队协作围绕数据展开。

**从数据埋点到构建指标体系**

![image-20210921161558394](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921161558394.png)

数据埋点：针对特定用户行为或事件进行捕获、处理和发送的相关技术及其实施过程。

指标体系：由一系列具有相互联系的指标所组成的整体，可以从不同的角度客观的反映现象总体或样本的数量特征。

**如何构建数据指标体系？**

![image-20210921161728830](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921161728830.png)

**数据指标的拆解**

数据指标的拆解通常都是围绕着指标的维度和构成来完成的。

![image-20210921161807908](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921161807908.png)

**电商网站的指标体系**

![image-20210921161852410](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921161852410.png)

电子商务数据分析指标体系

**互联网产品的指标体系**

什么是AARRR 模型
AARRR分别代表了五个单词，又分别对应了产品生命周期中
的五个阶段：
获取（Acquisition）：用户如何发现（并来到）你的产品？
激活（Activation）：用户的第一次使用体验如何？
留存（Retention）：用户是否还会回到产品（重复使用）？
收入（Revenue）：产品怎样（通过用户）赚钱？
传播（Refer）：用户是否愿意告诉其他用户？

抖音数据指标体系

**通过数据分析反馈业务洞察**

1）评估需求 通过数据把每一个需求转化成实际的数值，让每个需求的价值更加明确。

2）发现问题 通过分析“数据变动”反馈出来的业务情况，来发现问题，定位问题，提供解决方案。

![image-20210921162243451](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162243451.png)

次 级变 量 对 核心指 标 的影响
● 只关注核心指标的变化意义不大，我们要通过二级指标的变化来分析业务的运行情况
● 找到二级指标的变化情况后，通过对三级指标的进一步观察和分析，确定二级指标变化的原因
● 针对每一个方向进行单独的计划和改进，通过预测每个可能方向的提升的幅度，来 预测活跃用户数可能提升的比例，以及对应要消耗的资源，提升计划的准确性

**A/B测试**

AB测试是为Web或App界面或流程制作两个（A/B）或多个（A/B/n）版本，在同一时间维度，分别让组成成分相同（相似）的访客群组（目标人群）随机的访问这些版本，收集各群组的用户体验数据和业务数据，最后分析、评估出最好版本，正式采用。

![image-20210921162326596](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162326596.png)

**为什么要进行A/B测试**

![image-20210921162726422](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162726422.png)

![image-20210921162742059](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162742059.png)

**什么时候适合进行A/B测试**

![image-20210921162801699](E:\ZM\image-20210921162801699.png)

**什么时候不适合进行A/B测试？**

![image-20210921162831505](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162831505.png)

**A/B测试的基本统计学知识**

**假 设检验**
简单来说，就是要我们观察到的两组数据的差异，比偶然差异
大得多，我们就认为两组之间的差异是真实存在的。

**原假 设 和 备择 假 设**
原假设（H0）：我们希望通过试验结果推翻的假设
备择假设（Ha）：我们希望通过试验结果验证的假设

**置信水平、P 值 和 统计 功效**
置信水平：可以接受的第一 类错误发生的概率（自行规定，一般0.05）
P值：实际情况中第一类错误发生的概率，小于置信度时显著
统计功效：1 - （第二类错误发生的概率），一般0.8

**假 设检验 中的两 类错误**

![image-20210921162941909](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921162941909.png)

● 当出现第一类错误时，可能导致错误上线一些无效策略，增加了
系统复杂度
● 出现第二类错误时，则可能会错过某些真正有助于体验提升的
有效策略

**设计A/B测试一般步骤**

![image-20210921163007802](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163007802.png)

![image-20210921163025261](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163025261.png)

第一步：确定目标及假设

**目标**
通过进行AB测试来实验更换产品主图对我们核心数据指标的影响
**备择假设**
●  把产品主图换成展示模特搭配的图片，能够增加搜索结果的
点击率
●  部分增加的点击量能够进一步转化成购买
●  点击量的增加在移动端更加明显
**原假设**
更换产品主图不会对搜索结果的点击率有影响

第二步：确定数据指标

**核心指 标**
●  点击率：点击量/搜索结果展示量
●  购买率：有效订单/点击量（访客）
●  交易额

用 户 行 为 相关的数据指 标
●  跳出率
●  页面访问时长
●  回访率
●  产品分享
●  ...

第三步：确定最小提升值

这个数字最终会让我们决定我们需要多少测试多少用户及测试多长时间。

当前点击率：5%
新版本可以接受的最小点击率：5.5%

我们要确保能够测试到足够的用户来观测到10% 的提升

**第四步：计算测试的用户数量以及测试时长**

理论上， 样本量越多越好
当样本数量很少的时候，测试的结果不稳定，难以得出确信的结
论。

工作中， 样 本量越少越好
小公司流量有限；试错成本大

网上有很多样本数量计算器，需要我们提供原始版本的数据（通常是转化率）和统计显著性（一般是95%），有些计算器会需要我们提供统计效力（一般是80%），然后就可以计算出我们所需要的样本数量。

根据所需要的样本数量 & 测试网站/APP的日流量，就可以计算出AB测试的时长。

![image-20210921163433318](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163433318.png)

![image-20210921164905963](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164905963.png)

其中n是每组所需样本量，因为A/B测试一般至少2组，所以实验
所需样本量为2n；α和β分别称为第一类错误概率和第二类错误概
率，一般分别取0.05和0.2；Z为正态分布的分位数函数；Δ为两组
数值的差异，如点击率1%到1.5%，那么Δ就是0.5%；σ为标准差，
是数值波动性的衡量，σ越大表示数值波动越厉害。
从这个公式可以知道，在其他条件不变的情况下，如果实验两组
数值差异越大或者数值的波动性越小，所需要的样本量就越小。

**如何对A/B测试的结果进行分析**

1）数据可靠性检查  检查一些不应该因为AB测试而产生变化的指标，如果这些指标发生了变化的话应当进一步查证这些变化的原因

2）显著性检验  如果结果显著：全局实施新的版本如果结果不显著：进行进一步的分析，比如对用户进行维度上的细分，着重关
注有没有辛普森效应； 检查测试的设计是不是有问题

**A/B测试里的坑**

**不要以全概偏**
当我们做了一次A/B测试后，发现试验版本的数据结果并不理想，于是就认定所有的地区或渠道的效果都是 负面的，这是典型的区群谬误。
在这个概念中，认为群体中的所有个体都有群体的性 质。但如果仅基于群体的统计数据，就对其下属的个体性质作出推论，那么得出的结论往往是不准确的。

![image-20210921163620349](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163620349.png)

**不要因 为观测 到P 值显 著就提前 结束测试**
试验给出的p-value值是基于认为你设计的试验是已知样本和效应大小的，所以单纯使用p-value作为停止试验的准则是不太正确的。以及，如果你持续的监控试验的发展和p-value，就比较容易看到真实的效果。![image-20210921163659232](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163659232.png)

**辛普森悖论**

假设我从医生处得知自己得了肾结石，该医生向我展示了两种疗法效果的对比数据。疗法A为开刀手术，疗法B为微创手术。
两种疗法效果对比如左图：
从两组数据对比结果来看，我似乎应选择疗法B，因为其成功率更高。
但为了谨慎起见，我又咨询了一位医生。第二位医生向我展示了从同一个 疗法实验中得出的另一种数据对比结果：
据该医生解释，肾结石只分为小结石和大结石，没有中等大小的结石。而根据以上数据对比结果，他推荐使用疗法A，因为无论是治疗小结石还是大结石，疗法A的成功率都更高。

面对两个矛盾的测试结果，我应该选择哪种疗法呢？

![image-20210921163737736](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163737736.png)



正确的答案是B疗法！
为什么在第二个实验中B疗法对于大结石和小结石的治愈率均高于A，但是整体的治愈率却低于 A疗法呢？仔细观察这组实验数据
的话，我们不难发现数据的两个特征：
● 不管用什么疗法，大结石的治愈率都比小结石的治愈率低
● A疗法更常被用于小结石，而B疗法更常被用于治疗大结石
综上所述，当我们把整体数据结合起来的时候，同样的整体样本数量中，B疗法被大量用于治愈率较低的大结石，因此B疗法的整
体治愈率被拉低了

![image-20210921165119369](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921165119369.png)

**辛普森悖论的其他案例**

一所美国高校的两个学院，分 别是法学院和商学院，新学期招生。人 们怀疑这两个学院有性别歧视。两个学院的统计数据如左边表格所示，女生的录取率在两个学院均高于男生的 录取率。
但是将两组数据结合在一起后，女生反而有着更低的 录取率。
这个例子的数据特征和之前的例子相似：
● 录取率在两个学院之间有差别
● 男生和女生申请不同的学院的比例也有很大差 别
因为男生更愿意申请录取率更高（相对于商学院来说）的法学院，从而拉升了男生的整体录取率

![image-20210921165204067](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921165204067.png)

![image-20210921165213191](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921165213191.png)

**在A/B测试中如何避免辛普森悖论？**

● 想要避免辛普森悖论，最主要是要对AB测试进行科学的流量分割，保证试验组和对照组里的用户特征是一致的，并且都具有代表性，可以代表 总体用户特征。
● 在AB测试的设计上，如果我们觉得某两个变量对测试结果都有影响，那我们就应该把这两个变量放在同一层进行互斥试验，不要让一个变量的试验动态影响另一个变量的检验。如果我们觉得一个试验可能会对新老客户产生完全不同的影响，那么就应该对新客户和老客户分别展开定向试验，观察结论。
● 在AB测试结果的分析上，我们需要对结果进行多维度细分的对比。除了总体对比，也看一看对细分受众群体的试验结果，不要以偏盖全，也不要以全盖偏。一个版本提升了 总体活跃度，但是可能降低了年轻用户的活跃度，那么这个试验版本是不是更好呢？一个试验版本提升总营收0.1%，似乎不起眼，但是可能上海地区的年 轻女性iPhone用户的购买率提升了20%。

https://www.exp-platform.com/Documents/2009-ExPpitfalls.pdf

**在 测试 途中 污 染控制 变 量**
如果在测试途中我们发现控制变量收到污染，应当停止测试并依据具体的情形重新定义实验假设，重新测试
**进 行A/A  测试 保 证 流量的可靠性**
通过在正式A/B测试前进行A/A测试来观测被选中的流量是不是有偏差
**选择样 本 时 要注意网 络 效 应**
网络效应是指样本和样本间存在某种联系，不在是互相独立的样本，造成我们的测试结果不够准确。

## 2、电商运营的数据导向业务工作流

![image-20210921163906465](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921163906465.png)

**数据抓取**
数据抓取也被称为数据采集，是整个数据分析工作的起点。所采集和抓取的全不全、对不对，直接决定数据分析工作的质量，影响后续所有的环节。

● 埋点
是针对特定用户行为或事件进行捕获、处理和发送的相关技术及其实施过程。
● 爬虫
利用代码模拟人的行为去各个网站抓取数据
● 程序应用接口（API）
连接各种软件系统，为了能在各系统之间共享数据而开放的技术接口管道。

**什么是用户画像**

![image-20210921164009486](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164009486.png)

用户画像是在电商行业运用广泛的一种技术，其主旨为将用户的每个具体信息抽象成标签，利用这些标签将用户形象具体化，从而为用户提供有针对性的服务。

用户画像包含的内容并不完全固定，不同企 业对于用户画像有着不同对理解和需求。根据行业和产品的不同，所关注的特征也有不同，但主要 还是体现在基本特征、社会特征、偏好特征、行 为特
征等。
用户画像的核心是为用户打标签。即将用户的每个具体信息抽象成标签，利用这些标签将用户形象具体化，从而为用户提供有针对性的服务。

![image-20210921164042701](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164042701.png)

**bilibili会员购平台用户画像**

![image-20210921164115340](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164115340.png)

用户年龄主要集中在18—24岁，且男性用户占比较大。从地域来看，一二线城市用户较为集中。![image-20210921164222549](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164222549.png)

**用户行为数据与属性数据的分析思路与方法**

用户行为数据：由用户行为产生的数据，例如电商浏览数据、订单数据……
用户属性数据：由用户属性产生的数据，例如性别、年龄、职业……

**电 商 领 域 对 于用 户 行 为 数据及属性数据的应用**

![image-20210921164329170](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164329170.png)

## 3、不同业务场景的数据分析技术

**亚马逊跨境电商选品案例**

亚马逊公司是一家总部位于美国西雅图的跨国电子商务企业，业务起始于线上书店，不久之后商品走向多元化，目前是全球最大的互联网线上零售商之一。

![image-20210921164432805](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164432805.png)

数据来源：亚马逊平台入驻商订单报表
需要参数：ship-city、ship-state
筛选方法：
不同地区订单排序
不同地区累计订单统计
不同地区市场占有率分析
头部市场、长尾市场、低单市场的分类
其他筛选方法

![image-20210921164454589](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164454589.png)

![image-20210921164511161](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164511161.png)

![image-20210921164524686](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164524686.png)

价格敏感度低的区域与高订单区域有地域差异，因此运营者可以针对各个不同地域的制定不同的运 营策略：
针对化选品（季节、习俗、文化）
多店铺市场差额比较，评估市场容量
头部市场、长尾市场、低单量市场差异化运营

![image-20210921164548849](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164548849.png)



## 4、不同业务场景下的数据分析工具

**统计 学模型**
统计学模型旨在挖掘变量之间的联系，因此具有很高的可解释性，但是预测的精准度往往不如使用机器学习算法做出的分析
**机器学 习 算法**
机器学习算法牺牲了模型的可解释性，提高的预测的精准度

![image-20210921164623317](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921164623317.png)

1）Excel   Excel可以处理轻量级的数据；简单的统计建模；单次的数据分析；简单的数据可视化

2）Python   Python可以处理海量数据；复杂的数值计算；复杂的统计学模型和机器学习算法；分析具有可重复性

# 四、数据分析师的业务+多元思维

## 1、数据分析师会被一线运营人员取代吗？

**数据驱动业务的两种类型**

![image-20210921180647330](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921180647330.png)

**我的答案是：不会！**
从工作岗位的专业化程度而言，随着公司的不断成熟和发展，每个工作岗位必然是越来越细化，越来越职业化。
在数据分析师这个职业存在之前，产品经理、运营人员和商业分析师也会需要关注数据，但是正是由于互联网的高速发展，使得数据的获取越来越便捷和全面，数据变“大”了，因此针对数据可以进行的分析也越来越多，技术也越来越复杂，这才产生了专门负责分析数据的数据分析师。
从未来的趋势来看，一个成熟的公司里面每个团队都离不开一个专门负责数据分析的岗位，包括传统的人力资源、财务等部门



## 2、数据分析师的多元思维模型

背景

在数据分析的行业中，很多人都具有工科或者计算机学科的背景。网上的各种学习资源也都偏向于从技术的角度出发，这给很多人一种错觉的，觉得只要python或者R学得好，会做数据展示，就可以做一个优秀的数据分析师。

拥有这种思维的数据分析师往往会陷入这样的情况：
● 自己的分析容易出现各种小问题
● 别的分析师总是能针对具体问题产生更多的想法
● 职业发展遇到瓶颈

1）数据分析  专业技术水平；能够很好的发现其他分析师的问题

2）链接业务 高效沟通的能力；业务理解的能力；快速思维发散和收敛的能力

3）宏观把握 具有洞见性的全局观；能够从社会发展、行业发展里
面找到业务的决策方向

**数据分析的能力**

![image-20210921180958609](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921180958609.png)

数据分析的技术水平，对分析所使用的模型理解是不是全面、到位

数据分析的过程逻辑是否严密，经不经得起推敲

分析的结果是不是对业务具有价值，能不能落地

**有关技术理解的例子**

什么时候可以安全地使用平均数？
某天老板想知道游戏中几个热门关卡的难度差异，一个实习生准备使用“平均需要尝试多少次才能通过这个关卡”作为指标来衡量关卡的难度。
这个指标乍一听很有道理，但是在实际的工作中是行不通的。在游戏中，一个关卡往往存在大量的“头部”玩家，比如付费玩家，会产生大量的且分布不均匀的极值，此时贸然使用平均数来衡量一个关卡的“平均难度”往往反应不出来关卡的真实情况。

**有关数据分析的逻辑性的例子**

每一个推导都需要有严密的逻辑。
老板让某实习生分析2019年订单量的月度变化，实习生在分析十二月份订单量上升的时候，给出的结论是因为”双十二“的活动。
实习生的结论可能存在哪些漏洞？需要哪些数据去支撑这个结论？

![image-20210921181116943](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921181116943.png)

**关于数据分析的价值体现**

● 数据分析中，可以用简单的数据分析方式解决的问题，不要拖泥带水，尽早结束分析
● 一般而言，预测性分析和规范性分析的业务价值要比描述性分析更大，但其需要花费的时间也更长，在这种分析中一定要紧紧抓住它的价值

● 业务方的反馈也很重要，有时分析出来的结果很好但是暂时无法落地，此时所做的分析价值也不太大

**链接业务的能力**

在技术能力相同的情况下，这些链接业务的能力更能体现一个数据分析师的过人之处：
● 想象力和思维发散的能力
	○ 对于业务问题，能够用发散的思维去发现更多问题
● 解决问题的能力
	○ 当业务方遇到问题时，总是去找某一个数据分析师，而这个数据分析师也总能给出很好的答复
● 针对某些问题，某些数据分析师总是有独到的观点
● 高维视角
	○ 总是能很好的知道业务的工作，而且视角会一直高于业务

想要提升链接业务的能力，就需要提升有效沟通的能力，以及发散和收敛思维的能力

**有效沟通能力的两个技巧**

**黄金思维圈法则**
多问业务方：为什么、怎么做、做什么
在了解业务的情况下，多问业务方为什么要做这件事，业务方对于这件事的期望是什么。根据业务方的回答，来找切入点。
**在沟通前做一些准 备**
在与业务的沟通中如果没有提前准备一些业务知识和数据，那么整个沟通就会非常被动

比如京东最近的图书大牌宠粉活动，业务方想让你分析一下活动带来的新增用户的情况。这个时候分析师要让业务方介绍一下这个活动，发现这个活动并没有新的拉新的点，所以只能建议业务方来关注促活。

**快速发散收敛能力**

发 散：对于全新的业务问题，在跟业务沟通后，分析师有自己的观点和想法
收 敛： ：在分析师的众多想法中，能快速定位到最实际最合理的想法，并给出深入到下一步的计划和建议
比如在做公司层面的一级指标的时候，数据分析师需要预估下一年的DAU。在这个问题上，技术方面有很多模型可以使用，比如时间序列模型，比如渠道分析，漏斗模型等等。最终把这些模型和方法罗列出来后，选择使用渠道分析来预估明年的DAU，并把DAU拆
解为新用户+老用户。
从运营的同事那里了解到新用户的DAU跟运营的预算高度相关，于是更方便去做测算。

## 3、为什么数据分析师不能只懂技术

- • 技术不能解决一切问题
  -  数据不配合
  -  业务条件不配合
- • 不是越高级、越复杂的技术就是好技术
  - 不同的分析技术常常需要不同的分析资源投入，还需要不同的业务资源配合，
  - 数据分析的产出物也有可能是不同精度和不同表现形式的。

某在线新产品上线试运营了两个月，产生了一批付费购买的用户，现在产品运营团队希望能比较深入、全面地了解：

- 目标用户的基本特征
- 目标用户的大致的群体规模。

针对这个分析需求，基于当前的业务背景（刚刚上线运营两个月）应该用什么样的分析思路和分析技术呢？目标用户特征群体筛选课题的解决思路，至少有3种以上的分析技术可以完成：

- 有简单的技术，如统计描述总结、相关性分析、假设检验等
- 有常规的技术，比如聚类分析等
- 也有更加需要资源投入的技术,比如针对单个目标用户的预计付费概率的预测模型

具体到本案例，由于产品刚刚上线运营两个月，业务方对目标用户的大致情况还没有一个详细、全面的了解，而且无法使用精确的付费概率预测模型（2个月的数据很难完全支撑起一个有效的预测模型的搭建和验证），所以综合考虑，简单地统计描述总结，进行相关性分析和假设检验是现阶段、现有业务背景下比较具有性价比的优选思路和解决办法。

## 4、数据分析师的黄金思维模型

**数据分析师分析问题的黄金法则--金字塔模型**

在数据分析中，金字塔原理就是从中心的核心论点开始，找到支撑核心论点的分论点，再继续找到支撑每个分论点的论据。这样层层递进，形成了一个金字塔状的思维导图。

典型的金字塔式的论证：
我们活跃用户数在下降（中心论点），主要原因是竞争加剧（分论点），其次原因是新用户减少（分论点），老用户流失加快（分论点）。其中竞争加剧是因为竞争对手ABC出现（论据），新用户减少是ASO排名下降（论据）和渠道投入疲软（论据）造成，老用户流失是因为产品欠佳（论据）。

![image-20210921181709508](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921181709508.png)

**数据分析师分析问题的黄金法则--SCQA结构**

SCQA结构，即背景、冲突、疑问、答案。这种结构可以用来作为我们提出数据分析问题的一种结构，按照背景、冲突、疑问的结构就能提出一个比较清晰的问题。

![image-20210921181947188](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921181947188.png)

![image-20210921182004792](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182004792.png)

## 5、B站广告系统相关背景

**B站的线上广告类型**

![image-20210921182036418](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182036418.png)

**线上广告的不同计费模式**

线 上广告的不同 计费 模式

- CPM（Cost Per Mille） ：展现成本，或者叫千人展现成本
- CPC（Cost Per Click） 点击成本，即每产生一次点击所花费的成本
- CPA（Cost Per Action）：每行动成本。即按行动收费

CPC 广告数据分析需要关注的指 标

- 曝光点击率CTR
- 点击转化率VR
- 广告投入产出比
- 广告投资回报率



## 6、B站内CPC广告业务场景与优化问题介绍

**B站会员购平台广告案例讲解**

b站站内CPC电商广告遇到的问题：ROI数值低，投放不精准……

![image-20210921182248508](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182248508.png)

数据分析第一步：将会员购产品的单个一个交易日分为24小时，然后分析在24小时的不同时间段内总订单/评价广告订单和广告支出的变化。

![image-20210921182320123](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182320123.png)

数据分析第二步：单独将广告费与订单量做一个除法，就可以得到单个订单的平均广告支出，然后把重心放在客单价的单日变化上，要关注一天24小时每一个小时内平均客单价的变化。

![image-20210921182344331](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182344331.png)

数据分析第三步：将单个订单的平均广告支出较高的时段标注出来，然后降低该时段的广告竞价。



b站站内电商信息流广告遇到的问题：ROI数值低，用户点击率低……
数据分析思路：改进原有的用户画像系统，提升用户画像精准度
原本广告投放逻辑：看过某一标签视频的用户定义为该标签的“潜在购买用户”
该思路出现的问题：多数用户只是随意刷视频观看，并非真的对该标签很感兴趣。

![image-20210921182430508](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182430508.png)

运营优化方法：将一标签视频下留评及发弹幕的用户ID加入广告投放用户包中
数据分析结果：因为投放人群更加精准，用户点击率提升50%+，ROI提升100%+

![image-20210921182509208](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182509208.png)

# 五、京东订单数据分析实战

## 1、京东平台介绍

**京东电商平台介绍**

京东(JD.com)是中国领先的自营式电商企业。公司致力于为顾客提供最好的网络消费体验。通过其内容丰富且使用便捷的网站www.jd.com以及移动客户端，京东以具竞争力的价格，向消费者提供大量精选的正品，并通过可靠快速的配送服务将产品送到消费者手中。截至2014年3月，京东在其平台上提供4020余万库存单元（SKU）的13大类产品。京东相信其拥有全国电商行业中最大的仓储设施：京东在全国范围内拥有7大物流中心，在36座城市建立了86个大型仓库，总面积达到150万平方米，并拥有1620个配送站和214个自提点，覆盖全国495个城市，配送人员均为京东员工。京东目前在43个城市提供保证当天送达的“211限时达”服务，并在另外256座城市提供隔天送达的配送服 务。



## 2、京东订单数据准备

**京东订单数据介绍**

- 2020年5月25日
- 10%抽样数据
- 大家电-家用电器-冰箱
- 70k+

![image-20210921182647349](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182647349.png)

![image-20210921182705810](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182705810.png)

**京东订单数据的数据清理**

1）缺失值处理  

​		用户城市和省份信息有部分缺失，猜 测原因是部分用户隐藏了IP地址，不影响分析。

​		部分订单的订单时间是空值，原因是订单尚未支付，可以将其赋特殊值比如-1或者不处理，不影响分析

2）数据逻辑错误 

​		有用户的城市ID为-1

​		优惠前冰箱的最低价格为288，数据中存在大量的低价订单，其中绝大部分是保修、返现等无价值订单，一小部分是异常订单，可以忽略

3）格式内容一致性 

​		此数据的一致性较好，不需要特殊处理



## 3、订单数据分析的基本思路

对于订单数据，在业务中最常见的是使用可视化报表来监测订单关键指标的变化，并在一定维度上进行下钻。

![image-20210921182930701](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921182930701.png)

![image-20210921183015390](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921183015390.png)



## 4、基本图表类型应用场景

**不同的图表类型**

柱状 图
适用场合是二维数据集（每个数据点包括两个 值x和y），但只有一个维度需要比较，用于显示一段时间内的数据变化或显示各项之间的比较情况。
可以较好的反映数据的差异，但是只适用于 规模不太大的数据

![image-20210921183058752](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921183058752.png)

**条形 图**
和柱状图类似，但是能更好的把重点放在需要比 较的维度上

![image-20210921183126868](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921183126868.png)

**堆 积 型的柱状 图 和条形 图**
不仅可以直观的看出每个系列的值，还能够反映出系列的总和，尤其是当需要看某一单位的综合以及各系列值的比重时，最适合。

![image-20210921195641905](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921195641905.png)

**饼图**
显示各项的大小与各项总和的比例。适用简单的占比比例图，在不要求数据精细的情况适用。

![image-20210921200755474](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921200755474.png)

**折 线图**
折线图适合二维的大数据集，还适合多个二维数据集的比较。容易反应出数据变化的趋势。

![image-20210921200820824](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921200820824.png)

**散点 图 和气泡 图**
显示若干数据系列中各数值之间的关系，类似XY轴，判断两变量之间是否存在某种关联。散点图适用于三维数据集但是只需要比较其中两个维度，如果再增加一个维度那就可以使用气泡图

![image-20210921200848743](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921200848743.png)

**热 力 图**
以特殊高亮的形式显示访客热衷的页面区域和访客所在的地理区域的图示，常用语地图和网站分析。

![image-20210921200913597](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921200913597.png)

**漏斗 图**
体现数据转化关系

![image-20210921200935867](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921200935867.png)

在实际工作中，选择使用某个图表的核心要点是这个图表能够清晰地说明你要表达的问题。
如果你想表达的内容需要用复 杂的图表来表示，那不妨试试把复杂的图表拆成两个简单的图表分别来表示

![image-20210921201004239](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201004239.png)

## 5、京东订单数据的宏观分类和分析

**宏观把握订单的总体特征**

订单总 量: 62162			GMV： ：52716192 元	

总 用 户 数：42464		销 售 额: 46375448 元

![image-20210921201201189](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201201189.png)

![image-20210921201207591](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201207591.png)

**订单的价格分布**

通过整体的价格分布我们可以发现，约80%的订单在3000元以下。

![image-20210921201232802](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201232802.png)



## 6、京东订单数据的微观分类和分析

**从时间维度来对订单数据进行拆分**

通过对时间维度进行深挖，我们发现0时是订单数量最多的时间，在这个小时内我们有超过4000个订单，远远超过其他任何时间的订单数。
除了0时之外，上午十点和晚上八点也是订单的高峰期。
0时的订单量是不是因为异常值呢？比如某几个顾客下了很多笔订单？

![image-20210921201311138](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201311138.png)

我们可以用时间维度上的人均有效订单量来验证我们的猜想。
从数据来看，0时的人均有效订单量确实偏高（1.06），但是低于峰值（1时的1.08）并且和11时的数值非常接近。
这说明0时出现异常高的单人订单量的可能性很小。

![image-20210921201339401](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201339401.png)

从客单价和平均订单价格来看，0时的客单价和平均订单价格是全天中最高的。
这表明在这个时间段下单的用户净值较高，那么问题又来了, 会不会是一小部分用户的极端购物行为产生了这样的数据呢？

![image-20210921201404408](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201404408.png)

我们把0时下的订单的价格累计分布和20时（除了0时外订单数量最多的时间）的订单价格累计分布来进行对比：
约25%的0时用户的订单在2000元以下，而20时用户2000元以下的订单占约75%这说明0时的用户并不是只有一小部分的订单价格很高，而是大部分0时下单的用户都具有更高的客单价。

![image-20210921201429519](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201429519.png)

![image-20210921201434739](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201434739.png)

从优惠价格上来看，在0时，接近94%的订单都有优惠，而在其他时间，只有约87%的订单可以得到价格优惠。
在得到价格优惠的订单里，0时下单的订单的平均优惠价格约739元，而在其他时间下单的订单，平均可以获得461元的优惠，严重小于0时下单的订单。

![image-20210921201458443](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201458443.png)

![image-20210921201504823](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201504823.png)

**从地区维度来对订单数据进行拆分**

把眼光投向地区维度，首先可以帮助我们确定头部的市场

![image-20210921201527587](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201527587.png)

![image-20210921201533857](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201533857.png)

通过对客单价进行比较，可以找出购买力比较强的地区

![image-20210921201547877](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201547877.png)

![image-20210921201554870](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201554870.png)

**地区维度+品牌维度**

把地区维度和品牌维度结合起来，可以让我们清楚的看到不同地区的品牌偏好性和市场渗透率。
因为不同的品牌有不同的定价和 营销策略，通过不同地区用户的品牌偏好，我们也可以在产品定价和营销策略上发现洞察。

![image-20210921201621601](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201621601.png)

![image-20210921201627838](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201627838.png)

最贵的四个品牌占到上海东订单量的接近20%，这个比例是四川、广东的两倍。江苏省的偏贵的品牌的订单比例也达到快15%，这是否说明长三角地区的用户更喜欢进口、偏贵的产品，且具有较高的购买力？

![image-20210921201653420](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201653420.png)

**从品牌维度来对订单数据进行拆分**

通过各个品牌的订单数量和累计百分比的数据，确定本类目中的头部品牌。![image-20210921201719595](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201719595.png)

通过对比各个品牌的平均产品价格和市场占有率可以发现，头部品牌的平均定价都在2500左右或低于2500元。

![image-20210921201737571](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201737571.png)

从订单数量和平均优惠价格的数据来看，它们的相关性很弱

![image-20210921201755657](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201755657.png)

**自营/非自营 + 品牌**

对数据进行梳理的时候我们发现相当一部分的订单来源于非京东自营的店铺。那么这些店铺在订单数据中有什么特点呢？

![image-20210921201823004](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201823004.png)

除了订单数量的差异之外，非自营商铺的客单价也要远远低于自营商铺。

![image-20210921201944698](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921201944698.png)

非自营商铺和自营商铺的平均优惠价格并没有明显的差别

![image-20210921202002897](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202002897.png)

从品牌的角度来看，非自营商铺的订单主要集中于价格较低的品牌

![image-20210921202016165](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202016165.png)

![image-20210921202023626](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202023626.png)

**从宏 观 角度：**
整体把握了当天的订单状况
**从 时间维 度：**
● 0时是订单数量和客单价最高的时间段
● 其原因可能是因为在此时间段有优惠活动
**从地区 维 度：**
● 广东、北京、上海、四川、江苏为电冰箱的头部市场
● 上海地区的品牌偏好明显区别于其他头部市场
● 上海地区的购买力更强
**从品牌 维 度：**
● 海尔、容声、美的、康佳、志高是 电冰箱行业的头部玩家
● 头部品牌的平均商品价格均在 2500左右或更低
● 订单数量和平均优惠价格在品牌维度上相关性不是特别大
**从自 营 和非自 营 商 铺 的 维 度：**
● 非自营商铺的订单数量和客单价均大幅低于自营商铺
● 其原因可能是非自营商铺主要集中在单价很低的品牌，缺少高价格的品牌

# 六、京东商户用户画像实战项目

## 1、什么是用户画像体系

用户画像最早是由交互设计之父 Alan Cooper提出的，他认为用户画像是真实用户的虚拟代表，是根据一系列用户的真实数据而挖掘出的目标用户模型。
用户画像的本质是用户特征的“可视化”，抽象出相应的标签，拟合而成的虚拟的形象，主要包含基本属性、社会属性、行为属性及心理属性。需要注意的是，用户画像是将一类有共同特征的用户聚类分析后得出的，因而并非针对某个具像的特定个人。
用户画像的内容可以很宽泛，只要是对用户的认知，都可以叫做用户画像。但你所去认知的这批人必须是你的典型用户，他们会用相似的方式使用你的产品，服务或消费你的品牌。

![image-20210921202237706](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202237706.png)

![image-20210921202246298](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202246298.png)

![image-20210921202258331](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202258331.png)

**用户信息标签**

用户信息的收集包括用户基础要素、用户场景、行为偏好、心理个性、交际等多方面。
可以用静态标签、动态标签两大类来划分。
用户信息数据包含的范围非常广，特别是动态标签数据具有多变性，所以建立用户画像模型也是一个不断完善的过程。
静态数据:用户相对稳定的信息，主要包括人口属性、商业属性等方面数据；这类信息如果企业有真实信息则无需过多建模预测动态数据: 用户不断变化的行为信息，主要是用户的网络行为。包括搜索、浏览、注册、登陆、签到、发布信息、收藏、评论、点赞、分享、加入购物车、购买、使用优惠券、使用积分……等一系列的行为。
通过统计真实的用户行为，给用户打上不同的行为标签，然后建立模型标签。比如人口属性、用户活跃度、用户兴趣爱好、用户满意度、渠道偏好使用、购买偏好、内容偏好、用户关联、用户风险评分等。
通过模型标签，进一步建立预测标签，如：人群属性、消费能力、流失概率、违约概率、近期需求、潜在需求。

![image-20210921202354092](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202354092.png)

构建用户画像

![image-20210921202434174](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202434174.png)



## 2、用户画像在电商网站中的应用场景和业务价值

**用户画像的使用场景**

![image-20210921202511478](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202511478.png)

**用户画像的业务价值**

![image-20210921202536961](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921202536961.png)



## 3、京东用户画像实战

### 案例介绍

**案例场景1**

有一天，你的运营同事找到你，说京东电商平台最近小家电类目的订单数量、产品浏览量、搜索数量等都有所下降， 现在部门计划对小家电类目进行一次季末促销活动，希望你能针对小家电的用户特征给出一些建议。

**需求拆解**

这是一个非常典型的对用户画像进行构建和分析的需求，需求要求我们能够对促销活动进行一些建议，一场促销活动必然包含以下几个部分：
● 促销活动的受众
● 促销活动的时间
● 促销活动的产品
…
我们可以从这些角度去勾勒出小家电消费群体的用户画像，从而可以进一步从用户特征本身来为促销活动提供建议和指导。

受众 -> 用户的基本属性
时间 -> 用户的购物行为属性
产 品 -> 用户的偏好属性

**京东订单数据介绍**

● 2020年8月13日-8月19日
● 小家电类目订单数据
● 和之前的订单数据字段一致

![image-20210921204314726](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204314726.png)

● 小家电消费用户的用户信息
性别：0:女, 1:男, -1:未知
学历：

1:初中及以下, 2:高中(中专), 3:大学(专科及本科),
4:研究生(硕士及以上), -1:（未识别）
敏感度：
L1-近一年有复购用户
L2-近一年无复购用户
L3-一年前有复购用户
L4-一年前无复购用户
1-不敏感
2-轻度敏感
3-中度敏感
4-高度敏感
5-极度敏感

![image-20210921204356452](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204356452.png)

● 小家电消费用户的加购数据

![image-20210921204411904](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204411904.png)



### 用户的基本信息

**用户的性别和年龄**

从数据来看，下单小家电类目的消费者多为男性，但与女性用户数量差别不是特别大（10%）。用户多集中在25-35岁的年龄区间，25岁以下的年轻用户和45岁以上的中老年用户比较少。

![image-20210921204537625](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204537625.png)



**用户的地域分布**

小家电类目的消费者来自广东的最多，其次是江苏和北京。排名前五的地区均 为东部沿海地区。在城市分布方面，北上广深四个超一线城市占据消费用户数量的前四名。

![image-20210921204557615](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204557615.png)

**用户的婚育状况**

近70%的下单小家电的用户为已婚，超过60%的用户有孩的可能性比较高。![image-20210921204630528](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204630528.png)

**用户的教育水平**

绝大多数小家电消费用户拥有专科及以上的学历，说明该类目的消费者学历水平比较高；大多数消费用户从事互联网、白领、教师等收入比较高的职业，这与其学历水平相符。

![image-20210921204704815](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204704815.png)

**用户的基础属性描述**

**小家电消费者的典型用户为：**
男性，年龄在30岁左右，已婚且有孩子。
他在一线城市居住，拥有本科学历，并在一家互联网公司任职，收入比较高。
他应该拥比较追求生活品质，注重家庭观念。
但是一线城市节奏快，生活压力大，他可能缺少时间和精力来关注家庭生活。
**结论**
促销的文案可以采用比较中性的风格，突出促销产品对于家庭生活品质的提升。

### 用户的购买信息

**用户的购买商品类目分布**

从订单数据上来看，电风扇是最受欢迎的品类。但是这个订单数据是八月中旬的数据，那时正值天气炎热，所以电风扇需求量比较大。
如果促销活动是在夏天快要结束或者夏天结束之后进行，那应该选择第二受欢迎的净水器、饮水机和加湿器等类目。

![image-20210921204808470](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204808470.png)

**从时间维度来对订单数据进行拆分**

从整周的数据上来看，绝大部分订单都是在周二和周六完成的，而周三的 订单量最少。从单日的每小时订单量来看，早上10点-11点，晚上20点-22点是用户大量下单的时间。因此建议在周二和周六的早十点和晚八点各推送一次促销的活动。

![image-20210921204856798](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204856798.png)

**小家电消费用户的促销敏感度**

根据历史数据，绝大部分的小家电消费用户对促销高度敏感，但是仅有一小部分对促销活动是极度敏感的。这说明针对小家电消费用户的促销活动应当确定合适的促销力度，并在促销活动的形式上多下功夫。

![image-20210921204922176](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204922176.png)

**小家电消费用户的评论敏感度**

绝大部分的小家电消费用户对产品的评论极度敏感。这说明小家电消费用户非常看重产品的口碑和使用反馈，在促销选品上可以选择评价高、评论数多的产品；在活动文案上可以多体现促销产品的口碑。

![image-20210921204950859](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921204950859.png)

**结论**
**小家电消费用户的特征：**
多数为来自一线城市的男性，年龄在30左右，已婚，有孩，学历水平较高，从事互联网、教师等高收入行业。
他们喜欢在周二和周六的早上10点左右和晚上10点左右下单。他们关注产品的促销活动，喜欢追求有生活
品味，有良好的口碑的产品。他们关心家庭，但是因为生活节奏和工作压力却又没有时间在家庭生活上付出
很多时间和精力。前两周他们最常购买的小家电是电风扇。
**对 于促销活动的建议：**
● 文案：采取无性别风格的文案，突出产品对于家庭生活品质的提升，突出产品口碑
● 产品：选择口碑好的净水器、饮水机、加湿器等产品
● 时间：活动应该选在周二和周六的早9点和晚9点进行推送

**案例场景2**

经过了针对小家电消费用户的促销活动，小家电类目的订单、搜索、浏览量均有大幅提升。此时你的老板认为，下一步应当把这些用户转化到别的产品上去，并让你对选品提出建议。

**需求分析**

我们可以从用户画像中获得小家电消费用户的购物偏好，来对选品提出建议。通常我们可以从目标用户的搜索和加购的行为数据中来估计消费者的购物偏好。



### 用户的兴趣信息

**小家电消费用户的加购次数分布**

小家电消费用户在其他产品类目上的加购次数最多的是厨房小电，其次是粮油调味。从这个数据可以看出，小家电消费用户的偏好还是集中于家庭生活中的需求，而且厨房用品占到很高的比重。可以以此为切入点，多在小家电产品或者搜索页面对和厨房有关的产品进行引流。

![image-20210921205302441](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205302441.png)



# 七、统计学基础和常用的统计指标

## **1、python基础编程技能回顾**

基本数据类型

⚫ i i nt 、 float 、 str 、 list 、 tuple 、 set 、 dict
⚫  Numpy 模块的 ndarray
⚫  Pandas 模块的 Series 、 DataFrame

流程控制

⚫ i if f 、 elif 、 else
⚫  for 循环、 while 循环

文件处理

⚫  open 方法（r r 、w w 、a a 模式）
⚫  Pandas

函数与内置方法

⚫  嵌套函数、匿名函数
⚫ * * 函数进阶（递归、闭包、装饰 器、生成器）

常用模块

⚫  内建模块： os 、 sys 、 time 、 datetime 、 json 、 pickle 、 re 等
⚫  数据分析用的模块： scipy 、 numpy 、 pandas 、 matplotlib 、 sklearn 等	

## **2、统计学基础知识**

**总体**
⚫ 对客观事物研究时，总体是包含所有研究个体的集合，比如研究中国人的身高，那么所有中国人的身高就是总体，某一个中国人的身高就是个体。

**样本**
⚫ 在总体里面抽样，经过抽样总体中的部分个体，就形成了样本，样本是总体的子集。
⚫ 在实际中，总体的信息往往难以获取，所以需要进行抽样，通过推断样本统计量估计总体参数。

**数据的类型：**

![image-20210922135043714](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135043714.png)

## 3、描述性统计

在拿到一份数据后，如何用快速高效的方法得到数据的一个大致描述？

**定义**
描述性统计是借助图表或者总结性的数值来描述数据的统计手段。
**目的**
进行数据分析时，我们可借助描述性统计来描绘或总结数据的基本情况，一来可以梳理自己的思维，二来可以更好地向他人展示数据分析结果。
**工具**
数值分析的过程中，我们往往要计算出数据的统计特征，用来做科学计算的NumPy和SciPy工具可以满足我们的需求。Matpotlib工具可用来绘制图，满足图分析的需求。

![image-20210922135152236](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135152236.png)

![image-20210922135209153](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135209153.png)

**集中趋势**

![image-20210922135307947](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135307947.png)

**众数：**
众数是在一组数据中,出现次数最多的数据，是一组数据中的原数据，而不是相应的次数。
◆ 适用于数据量较多时使用
◆ 一组数据中的众数可以不止一个(缺点：缺乏唯一性)
如数据A、B、C、A、D、C中，A、C都出现了两次，它们都是这组数据中的众数
◆ 一组数据可能没有众数
所有数据都只出现一次时就没有众数，如数据A、B、C、D、E，这组数据没有众数
◆ 不受极端值影响
◆ 主要用于分类数据，也可用于顺序数据和数值型数据

![image-20210922135319456](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135319456.png)

**分位数**
分位数是集中趋势的反映。例如常见的四分位数：
1）第一四分位数(Q1)，又称“较小四分位数”，等于该样本中所有数值由小到大排列后第25%的数字；
2）第二四分位数(Q2)，又称“中位数”，等于该样本中所有数值由小到大排列后第50%的数字；
3）第三四分位数(Q3)，又称“较大四分位数”，等于该样本中所有数值由小到大排列后第75%的数 字。
第三四分位数与第一四分位数的差距又称四分位距(或四分位差)，反映离散程度。

![image-20210922135350517](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135350517.png)

![image-20210922135407342](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135407342.png)

![image-20210922135421020](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135421020.png)

![image-20210922135440702](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135440702.png)

![image-20210922135450803](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135450803.png)

![image-20210922135504952](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135504952.png)

![image-20210922135517124](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135517124.png)

![image-20210922135537513](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135537513.png)

**异众比率(variation ratio)**
数据中非众数频数与所有数据频数之比
◆ 对分类数据离散程度的测度，用于衡量众数的代表性
◆ 异众比率越大，说明非众数组的频数占总频数的比重越大，众数的代表性就越差；
◆ 异众比率越小，说明非众数组的频数占总频数的比重越小，众数的代表性越好

![image-20210922135621847](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135621847.png)

![image-20210922135629673](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135629673.png)

**极差(Range)**
一组数值型数据中最大值和最小值之差，max(x)-min(x)，
◆ 适用于数值型数据
◆ 反映了数值样本的数据范围

![image-20210922135702031](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135702031.png)

![image-20210922135717006](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135717006.png)	![image-20210922135730905](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135730905.png)

![image-20210922135745585](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135745585.png)

![image-20210922135758401](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135758401.png)

![image-20210922135805156](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135805156.png)

![image-20210922135831894](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135831894.png)

![image-20210922135853949](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135853949.png)

![image-20210922135906407](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135906407.png)

![image-20210922135916213](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922135916213.png)

## **4、常用的描述性统计指标Python实现**

**生成一些数据**

使用 list 、 numpy 的 ndarray 、 pandas 的 series/ dataframe

```python
import numpy as np
Import pandas as pd
from numpy.random import normal, randint
# 使用List来创造一组数据
data1 = [1, 2, 3]
# 使用ndarray来创造一组数据
data2 = np.array([1, 2, 3])
# 使用series来创造一组数据
data3 = pd.Series([1, 2, 3])
# 创造一组服从正态分布的数值型数据
data4 = normal(0, 10, size=10)
# 创造一组服从均匀分布的分类数据(用数字代表类别)
data5 = randint(0, 10, size=10)
```

**集中趋势描述**

均值、中位数、众数的实现

```python
# 计算均值
print(np.mean(data4))
# 计算中位数
print(np.median(data5))
# 计算众数——只返回一个众数即可
# # 1)先获取每个索引位置值在原始数据中出现的次数
counts = np.bincount(data5)
# # 2)返回频次最大值在数列中的索引位置
idx = np.argmax(counts)
# # 3)返回众数
print(data5[idx])

# 众数的另一种实现方式：
from scipy import stats
print(stats.mode(data5)[0][0])
```

**离散程度 描述**

极差、方差、标准差、变异系数的实现

```python
# 计算极差
print(np.ptp(data4))
# 计算方差
print(np.var(data4))
# 计算标准差
print(np.std(data4))
# 计算变异系数
print(np.std(data4) / np.mean(data4))
```

**偏差程度描述**

Z- -分数的实现

```python
# 计算data4数据中第1个值的Z-分数
print((data4[0] – np.mean(data4)) / np.std(data4))
# 求出data3整列数据的Z-分数
data3_zscore = (data3 – np.mean(data3)) / np.std(data3)
print(data3_zscore)
```

**相关程度**

协方差、相关系数 的实现

```python
# 计算data4与data5两组数据(变量)间的协方差
# 参数bias=1表示结果需要除以N（默认是除以N-1）
# 返回结果为矩阵，第i行第j列的数据表示第i组数与第j组数的协方差，对角线为方差
data = np.array([data4, data5])
print(np.cov(data, bias=1))
# 计算data4与data5两组数据(变量)间的相关系数
# 返回结果为矩阵，第i行第j列的数据表示第i组数与第j组数的相关系数。对角线为1
print(np.corrcoef(data))
```

**常见统计 描述 实现总结**

![image-20210922140250454](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922140250454.png)

**Pandas 数据类型概括性统计信息查看**

Pandas的Series和Dataframe类型支持describe直接查看常见统计量

```python
# 用data4和data5两组数据，生成2列的二维数据表格
df = pd.DataFrame({‘data4’: data4, ‘data5’: data5})
# 使用describe方法查看常见统计量
print(df.describe())
```

![image-20210922140329624](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922140329624.png)



# 八、数据化运营

## 1、数据化运营的发展历程

**从4P到4C**

![image-20210922101359820](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101359820.png)

![image-20210922101414270](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101414270.png)

**从4C到3P3C**

![image-20210922101431574](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101431574.png)





## 2、数据化运营是什么和为什么

**什么是数据化运营**

• 以企业级海量数据的存储和分析挖掘为核心支持的, 企业全员参与的, 以精准、细分和精细化为特点的企业运营制度和战略
• 简单理解: 在企业常规运营的基础上革命性的添加数据分析技术和数据挖掘的支持

![image-20210922101545129](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101545129.png)

**为什么要数据化运营**

• 传统的营销手段，运营方法已经被同行采用
• 常规的营销技术, 运营方法很难提升企业效率
• 数据化运营是数据挖掘技术和数据分析技术, 数据存储技术和数据平台等成熟的结果
• 互联网时代与生俱来的特点就是大数据, 而信息时代最大的特点也是大数据

![image-20210922101622593](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101622593.png)

**数据运营框架**

​	![image-20210922101700336](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101700336.png)



## 3、数据化运营—数据采集

**数据化运营框架——数据采集**

![image-20210922101725488](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101725488.png)

![image-20210922101741039](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101741039.png)

## 4、数据化运营—数据建模

**数据化运营框架——数据建模**

![image-20210922101838394](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101838394.png)

![image-20210922101942568](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101942568.png)

![image-20210922101956766](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922101956766.png)

![image-20210922102001959](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102001959.png)

![image-20210922102012761](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102012761.png)

![image-20210922102020864](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102020864.png)

![image-20210922102028836](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102028836.png)

![image-20210922102038872](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102038872.png)

![image-20210922102045509](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102045509.png)

![image-20210922102054444](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102054444.png)

![image-20210922102101685](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102101685.png)

**流量归因模型**

![image-20210922102107991](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102107991.png)

**预测顾客购买模型**

![image-20210922102126504](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102126504.png)

![image-20210922102143635](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102143635.png)

**用户生命周期模型**

![image-20210922102152338](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102152338.png)

**个性化推荐模型: 根据你的偏好推荐不同的东西**

![image-20210922102213893](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102213893.png)

## 5、数据化运营—数据应用

**数据化运营框架——数据应用**

![image-20210922102239235](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102239235.png)

![image-20210922102308889](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102308889.png)

![image-20210922102252009](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102252009.png)

![image-20210922102317908](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922102317908.png)





# 八、京东图书商业化分析

## 1、什么是商业数据分析

![image-20210921205359202](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205359202.png)

**商业数据分析的4个层次**

![image-20210921205436625](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205436625.png)

1.描述性分析（Descriptive Analysis）
2.诊断性分析（Diagnostic Analysis）
3.预测性分析（Predictive Analysis）
4.处方性分析（Prescriptive Analysis）

• （1）描述性分析-发生了什么？
故名思义，该层次主要是对已经发生的事实用数据做出准确的描述。比如某企业本月订单签约额比上月增加100万，至1100万，但是订单履约率从上月的98%下降到了95%，库存周转率从上月的0.8下降到了0.7
• （2）诊断性分析-为什么会发生？
知道到底发生了什么，对我们的帮助不大，更重要的是，我们要明白为什么发生。比如经过分析，发现上文提到的订单履约率下降的原因是成品生产不出来，无法完成交付。而成品生成不出来的原因则是部分原材料的供应商未能按时送货，导致原材料不齐套，无法开始生产。
• （3）预测性分析-什么可能会发生？
基于上述两个层次的分析，我们发现了其中的规律，即原材料供应商的送货及时率会影响成品订单的履约率。假如上月某原材料供应商A送货及时率只有70%，通过建模，我们可以预测本月该供应商会使我们的订单履约率下降2%。
• （4）处方性分析-该做些什么？
有了预测性分析的结果后，我们无需再做事后诸葛亮，而可以运筹帷幄，在事前就采取措施。上例中，供应商A会导致本月我们的订单履约率下降，我们可能采取的措施就是把A换掉，但是现在有B和C两个供应商供我们选择，该选择哪个呢？通过分析和计算得出：选用供应商B会比选C的订单履约率高1%，因此建议选择供应商B。这就是处方性分析。



## 2、实战案例介绍

**项目背景**

• 电子图书和纸质图书销售的数据挖掘用户的行为规律, 包括不同类目, 不同地区的购买差异和用户属性差异等等并给业务给出指导性的建议。

![image-20210921205555574](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205555574.png)

**订单数据**

![image-20210921205610490](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205610490.png)

**用户信息数据**

![image-20210921205628239](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205628239.png)

**分析思路**

![image-20210921205642769](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205642769.png)

**整体数据:**

• 在单均金额和人均金额上 电子图书都比图书高
• 电子图书的订单有效率远比图书要高

![image-20210921205721006](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205721006.png)

订单有效率: 有效订单/总订单
有效下单率: 有效下单的人数/总下单人数
人均有效单数: 总有效订单数/有效下单人数

![image-20210921205756035](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205756035.png)

**订单量**

• 电子图书在京东618 等节日并没有表现出节日效应

![image-20210921205849615](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205849615.png)

• 纸质书籍表现出明显的618 节日效应, 订单量突增, 但有效订单率降低

![image-20210921205908189](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205908189.png)

**订单人数**

• 从下单人数来看, 电子图书的下单人数并没有表现特别明显的节日效应明显

![image-20210921205938363](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205938363.png)

• 从订单人数来看, 不同于电子图书, 纸质图书的订单数在618 这种活动有很强的活动效应

![image-20210921205958786](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921205958786.png)

**总收入**
• 不同于数字内容, 图书的销售收入在618 等活动日都有很大的涨幅

![image-20210921210018370](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210018370.png)

**人均金额**
• 在人均金额上, 图书的人均收入相比于普通节日有涨幅, 但不明显

![image-20210921210041673](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210041673.png)

**不同年龄层的单均金额**

• 电子图书的人均下单收入36-45岁最高, 纸质图书是 26-35岁最高

![image-20210921210114834](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210114834.png)

![image-20210921210119715](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210119715.png)

**不同年龄层的订单有效率**
• 不同年龄层的订单有效率差别不大

![image-20210921210140533](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210140533.png)

**不同年龄层的人均订单量**

• 在人均订单上无论是电子图书还是纸质图书都是 56岁以上人均订单量最大

![image-20210921210210393](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210210393.png)

**不同地域的人均订单量**

• 电子图书山西最高, 纸质图书内蒙古最高

![image-20210921210237729](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210237729.png)

**不同地域的购买人数**

• 电子图书和纸质图书都是广东最高

![image-20210921210312590](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210312590.png)

**不同地域的总订单量**

• 从总订单来看, 电子图书广东最高, 纸质图书北京最高

![image-20210921210341649](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210341649.png)

**不同地域的人均金额**

• 从人均金额来看, 电子图书上海最高, 纸质图书河北最高

![image-20210921210419251](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210419251.png)

**不同地域的单均金额**

• 从单均金额来看, 电子图书上海最高, 纸质图书河北最高

![image-20210921210453516](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210453516.png)

**不同价值度的人均订单**

• 价值越高的用户无论是电子图书还是纸质图书人均订单数都是越高

![image-20210921210520246](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210520246.png)

**不同价值度的人均金额**

• 价值越高的用户无论是电子图书还是纸质图书人均金额都是越高, 而且高价值的用户比其他用户在人均金额上差距很大

![image-20210921210552152](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210552152.png)

**不同价值度的单均金额**

• 价值越高的用户无论是电子图书还是纸质图书单均金额都是越高, 不同价值度的用户相差不大

![image-20210921210616673](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210616673.png)

**不同忠诚度的人均订单**

• 忠诚度越高的用户在电子图书和图书上的人均订单上并没有越高 可能忠诚只代表会买但代表不了买的越多

![image-20210921210648755](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210648755.png)

**不同忠诚度的单均金额**

• 忠诚度越高的用户在电子图书单均金额并没有越高, 而纸质图书基本高度忠诚度和中度忠诚度的用户都比其他类型的高

![image-20210921210715418](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210921210715418.png)

**总结&建议**
• 电子图书的人均下单收入36-45岁最高, 纸质图书是 26-35岁最高，可以针对不同的年龄层推荐不同类型的图书比重
• 从人均金额来看, 电子图书上海最高, 纸质图书河北最高， 提高不同类型的图书的人均金额, 需要发力的地区不一样
• 价值越高的用户无论是电子图书还是纸质图书人均订单数, 人均金额, 单均金额都是越高, 可以针对高价值的人群多推荐对应的图书



# 九、京东平台宏观数据分析实战

## **1、什么是数据体系**

- 指标体系是将零散单点的具有相互联系的指标，系统化的组织起来，通过单点看全局，通过全局解决单点的问题。它主要由指标和体系两部分组成。
-  指标是指将业务单元细分后量化的度量值，它使得业务目标可描述、可度量、可拆解，它是业务和数据的结合，是统计的基础，也是量化效果的重要依据。

![image-20210922093030814](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093030814.png)

**指标体系生命周期**

生命周期主要包含定义、生产、消费、下线四个阶段。针对整个生命周期要持续做指标运维、质量保障，同时为了
提高指标数据复用度，降低用户使用成本需要做对应的数据运营工作。

![image-20210922093056210](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093056210.png)

**为什么搭建指标体系**

- 衡量业务发展质量   

指标体系可以反映业务客观事实，看清业务发展现状，通过指标对业务质量进行衡量，把控业务发展情况，针对发
现的业务问题聚焦解决，促进业务有序增长

- 建立指标因果关系 

主要明确结果型指标和过程型指标关系，通过结果指标回溯过程指标，找到解决问题的核心原因

- 指导用户分析工作 

目的建立产品评估体系、活动效果评估体系、智能运营分析体系

- 指导基础数据建设 

明确基础数据建设方向，集中资源，避免过程和结果分析指标数据的遗漏或缺失

- 指导内容产品建设  

结合用户的业务场景来进行使用，多个不同的指标和维度可以组合起来进行业务的综合分析，用户可通过指标的
变化看到整体业务的变化，并能够快速发现问题、定位问题

- 统一指标消费口径 

企业内统一关键指标业务口径及计算口径，统一企业业务目标，实现自上而下目标驱动

**如何搭建指标体系**

**OSM模型（Obejective，Strategy，Measurement）**是指标体系建设过程中辅助确定核心的重要方法，包含业务目标、业务策略、业务度量，是指标内容横向的思考。

![image-20210922093257492](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093257492.png)

![image-20210922093311989](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093311989.png)

![image-20210922093317111](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093317111.png)

**人货场指标体系**

![image-20210922093332995](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093332995.png)

**人货场指标体系—场**

![image-20210922093350670](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093350670.png)

**人货场指标体系—货**

![image-20210922093405779](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093405779.png)

**备注：**
SKU=Stock Keeping Unit（库存量单位）。
针对电商而言：
1、SKU是指一款商品，每款都有出现一个SKU，便于电商品牌识别商品。
2、一款商品多色，则是有多个SKU，例：一件衣服，有红色、白色、蓝色，则SKU编码也不相同，如相同则会出现混淆，发错货。

**人货场指标体系—人**

![image-20210922093445706](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093445706.png)



## 2、项目实战: 电商购买的流失用户预测案例实战

**问题**

京东商城的用户中有一部分购买的用户容易流失, 希望可以通过数据分析圈定这一批用户, 挖掘流失原因, 并且利用运营的方法对他们进行挽留。

**完整流程**

![image-20210922093550915](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093550915.png)

**背景**

• 购买的用户中有一部分容易流失， 这部分用户的购买影响到总体的收入和订单量
• 业务方希望我们数据分析师能够利用数据分析方法和机器学习的方法帮助圈定流失用户群体并且挖掘他们流失原因

**参与讨论**

![image-20210922093624295](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093624295.png)

- 了解业务细节,  现有的用户流失率是什么样的,  所有地域的流失率都是一样的？
- 了解要解决什么问题,  预测流失的用户
- 评估需求是否合理,  很多需求是伪需求, 需求合理化或者需求转化
- 提前预判现有的数据能不能解决问题, 避免现有的数据可能有限， 解决不了问题

**制定分析框架**

- 分析目标 数据化, 把业务的流失问题用数据表示出来
- 分析的思路的大致描述, 用什么方法, 提取哪些数据
- 分析的样本的数据抽取规则, 比如选取多长时间的窗口用户进行预测, 是否有地域限定, 年龄限定, 其他行为限定
- 项目的落地价值和迭代方向

**数据摸底和提取**

![image-20210922093847337](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093847337.png)

**数据清洗**

- 对缺失值进行处理, 对于数据值型的数据利用平均数， 中位数等进行填充， 非数值型的数据, 利用随机抽样进行填充,或者利用模型进行预测
- 对于异常值进行清除, 比如性别除了男女 不能有其他性别吧, 年龄不能有200岁等
- 对严重不符合逻辑的数据进行处理 比如打开京东app 的天数小于购买的天数等
- 明显不能用的字段要提前标注 不要放进模型中, 这种数据可能提前发现不了, 需要跟业务方和开发进行沟通

**特征处理**

- 共线性的特征处理, 比如登陆天数和登陆次数, 这两个特征相关性很大, 一般只保留一个
- 特征离散化: 利用分箱方法对年龄由连续性的数字转为离散的 比如 “20-30岁”, “30-40”岁等
- 特征统计变化: 这种一般处理具有很大偏态分布的特征， 进行Log变换

![image-20210922093948166](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922093948166.png)

**建模**

![image-20210922094010961](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922094010961.png)

**模型结果——以决策树为例**

![image-20210922094033303](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922094033303.png)

**模型结果建议**

流失用户圈定的标准:

- 年龄大于40岁
- 年龄小于40岁登陆天数小于5天
- 年龄小于40岁登陆天数大于5天且月订单量小于5

**流失用户挽留测试**

![image-20210922094124421](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922094124421.png)

**返璞归真—数据驱动的总结**

![image-20210922094138739](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20210922094138739.png)